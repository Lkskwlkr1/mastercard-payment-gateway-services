(window["webpackJsonpmastercard-payment-gateway-services"]=window["webpackJsonpmastercard-payment-gateway-services"]||[]).push([[0],{109:function(e,t,r){"use strict";r.r(t);var a,n=r(1),o=r.n(n),i=r(34),c=r.n(i),s=(r(49),r(50),r(117)),d=r(116),l=r(27),m=r(35),u=r(25),y=r.n(u),p=r(36),f=r(28),b=r(112),g=r(113),h=r(114),E=r(115),w=r(37),v="https://test-gateway.mastercard.com/form/version/52/merchant/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/mastercard-payment-gateway-services"}).REACT_APP_MERCHANT_ID,"/session.js"),x=function(e){var t=e.initialized,r=e.formSessionUpdate,a=window.PaymentSession;a&&a.configure({fields:{card:{number:"#card-number",securityCode:"#security-code",expiryMonth:"#expiry-month",expiryYear:"#expiry-year",nameOnCard:"#cardholder-name"}},frameEmbeddingMitigation:["javascript"],callbacks:{initialized:function(e){console.log("Session initialized",e),t(e)},formSessionUpdate:function(e){console.log("Form session update",e),r(e)}}})},S=function(){var e=window.PaymentSession;e&&e.updateSessionFromForm("card")},C=function(){var e=Object(p.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:return e.abrupt("return",new Promise((function(e,r){setTimeout((function(){r()}),5e3);var a=document.querySelector('script[src="'.concat(v,'"]'));a&&a.remove();var n=document.createElement("script");n.src=v,n.async=1,n.onerror=r,n.onload=function(){return x({initialized:e,formSessionUpdate:t})},document.body.appendChild(n)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(w.a)(f.a)(a||(a=Object(m.a)(["\n  iframe {\n    display: block;\n  }\n"]))),j=function(e){var t=e.onFormSessionUpdated,r=Object(n.useState)(!0),a=Object(l.a)(r,2),i=a[0],c=a[1],s=Object(n.useCallback)((function(e){e.status?"ok"===e.status?(console.log("Session updated with data: "+e.session.id),t(e.session.id),e.sourceOfFunds.provided.card.securityCode&&console.log("Security code was provided."),"MASTERCARD"===e.sourceOfFunds.provided.card.scheme&&console.log("The user entered a Mastercard credit card.")):"fields_in_error"===e.status?(console.log("Session update failed with field errors."),e.errors.cardNumber&&console.log("Card number invalid or missing."),e.errors.expiryYear&&console.log("Expiry year invalid or missing."),e.errors.expiryMonth&&console.log("Expiry month invalid or missing."),e.errors.securityCode&&console.log("Security code invalid.")):"request_timeout"===e.status?console.log("Session update failed with request timeout: "+e.errors.message):"system_error"===e.status&&console.log("Session update failed with system error: "+e.errors.message):console.log("Session update failed: "+e)}),[t]);return Object(n.useEffect)((function(){C(s).then((function(){return c(!1)})).catch((function(){return console.error("CANT NOT LOAD MPGS")}))}),[s]),o.a.createElement(O,{width:"300px"},i&&o.a.createElement(b.a,{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",bg:"rgba(0, 0, 0, 0.1)",alignItems:"center"},o.a.createElement(g.a,null)),o.a.createElement(f.a,{my:"2"},"Please enter your payment details:"),o.a.createElement("h3",null,"Credit Card"),o.a.createElement(f.a,{my:"2"},"Card Number:",o.a.createElement(h.a,{type:"text",mb:"0",id:"card-number",title:"card number","aria-label":"enter your card number",readOnly:!0})),o.a.createElement(f.a,{my:"2"},"Expiry Month:",o.a.createElement(h.a,{type:"text",mb:"0",id:"expiry-month",title:"expiry month","aria-label":"two digit expiry month",readOnly:!0})),o.a.createElement(f.a,{my:"2"},"Expiry Year:",o.a.createElement(h.a,{type:"text",mb:"0",id:"expiry-year",title:"expiry year","aria-label":"two digit expiry year",readOnly:!0})),o.a.createElement(f.a,{my:"2"},"Security Code:",o.a.createElement(h.a,{type:"text",mb:"0",id:"security-code",title:"security code","aria-label":"three digit CCV security code",readOnly:!0})),o.a.createElement(f.a,{my:"2"},"Cardholder Name:",o.a.createElement(h.a,{type:"text",mb:"0",id:"cardholder-name",title:"cardholder name","aria-label":"enter name on card",readOnly:!0})),o.a.createElement(f.a,{my:"2"},o.a.createElement(E.a,{variant:"primary",onClick:S},"Pay Now")))},k=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1];return o.a.createElement(f.a,{p:"4"},r&&o.a.createElement(j,{onFormSessionUpdated:alert}),o.a.createElement(E.a,{onClick:function(){return a((function(e){return!e}))}},"Toggle"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(s.a,{theme:d.a},o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,r){e.exports=r(109)},49:function(e,t,r){}},[[44,1,2]]]);
//# sourceMappingURL=main.d8065751.chunk.js.map